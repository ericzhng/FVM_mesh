@PACKAGE_INIT@

# FVM_mesh CMake Package Configuration File
#
# This file is used by find_package() to locate the FVM_mesh package.
#
# Usage:
#   find_package(FVM_mesh REQUIRED)
#   target_link_libraries(your_target PRIVATE FVM::meshgen FVM::polymesh)
#
# The following targets are defined:
#   FVM::meshgen  - Gmsh-based geometry and mesh generation library
#   FVM::polymesh - Partition, reordering, and mesh utilities library
#
# Variables set by this config:
#   FVM_mesh_FOUND        - TRUE if the package was found
#   FVM_mesh_VERSION      - Version of the package
#   FVM_mesh_INCLUDE_DIRS - Include directories (for reference)
#   FVM_mesh_LIBRARIES    - Libraries to link (for reference)

set(FVM_mesh_VERSION "@PROJECT_VERSION@")

# Compute the installation prefix relative to this file
get_filename_component(FVM_mesh_CMAKE_DIR "${CMAKE_CURRENT_LIST_FILE}" PATH)

# Add the modules directory to CMAKE_MODULE_PATH for FindGmsh.cmake, etc.
list(APPEND CMAKE_MODULE_PATH "${FVM_mesh_CMAKE_DIR}/modules")

# Find dependencies
include(CMakeFindDependencyMacro)

# Gmsh is required
find_dependency(Gmsh REQUIRED)

# METIS is optional - if it was used when building, try to find it
set(_FVM_mesh_have_metis @HAVE_METIS@)
if(_FVM_mesh_have_metis)
    find_dependency(METIS)
endif()
unset(_FVM_mesh_have_metis)

# Include the exported targets
if(NOT TARGET FVM::meshgen)
    include("${FVM_mesh_CMAKE_DIR}/FVM_meshTargets.cmake")
endif()

# Provide convenience variables (optional, targets are preferred)
set(FVM_mesh_INCLUDE_DIRS "@PACKAGE_FVM_INSTALL_INCLUDEDIR@")
set(FVM_mesh_LIBRARIES FVM::meshgen FVM::polymesh)

# Check required components
check_required_components(FVM_mesh)

# Print status message
if(NOT FVM_mesh_FIND_QUIETLY)
    message(STATUS "Found FVM_mesh: ${FVM_mesh_CMAKE_DIR} (version ${FVM_mesh_VERSION})")
endif()
